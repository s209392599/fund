"use strict";(self["webpackChunkjijin"]=self["webpackChunkjijin"]||[]).push([[251],{251:function(e,a,t){t.r(a),t.d(a,{default:function(){return o}});var n=t(641),l=t(953),r=t(335);const u={class:"hello"},v={ref:"chartEl",id:"ChartBox"};var c={__name:"fund08",setup(e){const a=(0,l.KR)("");let t={data:{items:[{date:"2022-09-30",nav:"1.5433",percentage:"0.12",value:"1.5433"},{date:"2022-09-29",nav:"1.5415",percentage:"-0.06",value:"1.5415"},{date:"2022-09-28",nav:"1.5424",percentage:"-0.23",value:"1.5424"},{date:"2022-09-27",nav:"1.5460",percentage:"0.14",value:"1.5460"},{date:"2022-09-26",nav:"1.5439",percentage:"-0.24",value:"1.5439"},{date:"2022-09-23",nav:"1.5476",percentage:"-0.05",value:"1.5476"},{date:"2022-09-22",nav:"1.5484",percentage:"-0.06",value:"1.5484"},{date:"2022-09-21",nav:"1.5493",percentage:"0.04",value:"1.5493"},{date:"2022-09-20",nav:"1.5487",percentage:"-0.07",value:"1.5487"},{date:"2022-09-19",nav:"1.5498",percentage:"-0.06",value:"1.5498"},{date:"2022-09-16",nav:"1.5507",percentage:"-0.33",value:"1.5507"},{date:"2022-09-15",nav:"1.5559",percentage:"0.12",value:"1.5559"},{date:"2022-09-14",nav:"1.5540",percentage:"-0.17",value:"1.5540"},{date:"2022-09-13",nav:"1.5567",percentage:"-0.12",value:"1.5567"},{date:"2022-09-09",nav:"1.5586",percentage:"0.41",value:"1.5586"},{date:"2022-09-08",nav:"1.5523",percentage:"-0.02",value:"1.5523"},{date:"2022-09-07",nav:"1.5526",percentage:"0.01",value:"1.5526"},{date:"2022-09-06",nav:"1.5525",percentage:"0.15",value:"1.5525"},{date:"2022-09-05",nav:"1.5502",percentage:"0.16",value:"1.5502"},{date:"2022-09-02",nav:"1.5477",percentage:"-0.1",value:"1.5477"},{date:"2022-09-01",nav:"1.5492",percentage:"0.05",value:"1.5492"},{date:"2022-08-31",nav:"1.5485",percentage:"0.05",value:"1.5485"},{date:"2022-08-30",nav:"1.5478",percentage:"0.08",value:"1.5478"},{date:"2022-08-29",nav:"1.5465",percentage:"-0.29",value:"1.5465"},{date:"2022-08-26",nav:"1.5510",percentage:"0.06",value:"1.5510"},{date:"2022-08-25",nav:"1.5500",percentage:"0.22",value:"1.5500"},{date:"2022-08-24",nav:"1.5466",percentage:"-0.44",value:"1.5466"},{date:"2022-08-23",nav:"1.5535",percentage:"0.01",value:"1.5535"},{date:"2022-08-22",nav:"1.5533",percentage:"0.15",value:"1.5533"},{date:"2022-08-19",nav:"1.5509",percentage:"-0.23",value:"1.5509"},{date:"2022-08-18",nav:"1.5545",percentage:"-0.41",value:"1.5545"},{date:"2022-08-17",nav:"1.5609",percentage:"0.39",value:"1.5609"},{date:"2022-08-16",nav:"1.5549",percentage:"0.04",value:"1.5549"},{date:"2022-08-15",nav:"1.5543",percentage:"0.09",value:"1.5543"},{date:"2022-08-12",nav:"1.5529",percentage:"0.11",value:"1.5529"},{date:"2022-08-11",nav:"1.5512",percentage:"0.34",value:"1.5512"},{date:"2022-08-10",nav:"1.5460",percentage:"-0.16",value:"1.5460"},{date:"2022-08-09",nav:"1.5484",percentage:"0.03",value:"1.5484"},{date:"2022-08-08",nav:"1.5480",percentage:"0.1",value:"1.5480"},{date:"2022-08-05",nav:"1.5464",percentage:"0.21",value:"1.5464"},{date:"2022-08-04",nav:"1.5431",percentage:"0.09",value:"1.5431"},{date:"2022-08-03",nav:"1.5417",percentage:"-0.12",value:"1.5417"},{date:"2022-08-02",nav:"1.5436",percentage:"-0.39",value:"1.5436"},{date:"2022-08-01",nav:"1.5497",percentage:"-0.16",value:"1.5497"},{date:"2022-07-29",nav:"1.5522",percentage:"-0.15",value:"1.5522"},{date:"2022-07-28",nav:"1.5546",percentage:"0.12",value:"1.5546"},{date:"2022-07-27",nav:"1.5527",percentage:"0.16",value:"1.5527"},{date:"2022-07-26",nav:"1.5502",percentage:"0.7",value:"1.5502"},{date:"2022-07-25",nav:"1.5394",percentage:"0.01",value:"1.5394"},{date:"2022-07-22",nav:"1.5393",percentage:"-0.1",value:"1.5393"}],current_page:1,size:50,total_items:1162,total_pages:24},result_code:0};(0,n.sV)((()=>{console.log(232,t.data),p()}));let c=(0,n.WQ)("echarts"),d={type:"line",smooth:!0,symbol:"circle",symbolSize:10};const p=(e={})=>{const a=c.init(document.getElementById("ChartBox"));let t=e.items||[];t=t.reverse();let{totalArr:n,upArr:l,downArr:r}=g(t),u=t.map((e=>e.date)),v=t.map((e=>parseFloat(e.value))),p=s(v,5),o=s(v,10),i=s(v,20),m=s(v,30),h=s(v,60),b=t.map((e=>{let a=e.percentage||"";return{value:e.value,itemStyle:{color:a.startsWith("-")?"green":"rgb(255 0 0 / 20%)"}}}));const f={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},dataZoom:[{start:90}],legend:{data:["涨","跌","5日","10日","20日","30日","60日"],selected:{"20日":!1,"60日":!1}},grid:{left:"3%",right:"4%",bottom:"50px",containLabel:!0},xAxis:{type:"category",data:u},yAxis:{type:"value"},series:[{data:b,type:"bar"},{...d,name:"5日",color:"red",data:p},{...d,name:"10日",color:"purple",data:o},{...d,name:"20日",color:"#0461CF",data:i},{...d,name:"30日",color:"#000",data:m},{...d,name:"60日",color:"#F3624B",selected:!1,data:h}]};a.setOption(f),window.addEventListener("resize",(function(){a.resize()}))},o=e=>{r.A.get(`${globalProperties.fundURL}/historicalIncome/?code=${e}&pagesize=999999`,{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then((e=>{p(e.data||{})})).catch((e=>{console.log("err",e),p({})}))},g=(e=[])=>{let a=[],t=[],n=[];if(e.length<2)return{totalArr:a,upArr:t,downArr:n};a.push(Number(e[0]["value"])),t.push(Number(e[0]["value"])),n.push("-");for(let l=1;l<e.length;l++){a.push(Number(e[l]["value"]));let r=Number(e[l]["value"])-Number(e[l-1]["value"]),u=r.toFixed(5),v=Number(u),c=Math.abs(v);e[l]["percentage"].startsWith("-")?(t.push("-"),n.push(c)):(t.push(c),n.push("-"))}return{totalArr:a,upArr:t,downArr:n}},s=(e=[],a=5)=>{let t=new Array(a).fill(0);if(a>e.length)return t;for(let n=a;n<e.length;n++){let l=0;for(let t=0;t<a;t++)l+=e[n-t];t.push(Number((l/a).toFixed(6)))}return t};return(e,t)=>{const l=(0,n.g2)("el-input"),r=(0,n.g2)("el-button");return(0,n.uX)(),(0,n.CE)("div",u,[(0,n.Lk)("div",null,[(0,n.bF)(l,{class:"fund-number-input",modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),placeholder:"输入基金号",clearable:""},null,8,["modelValue"]),t[9]||(t[9]=(0,n.eW)("   ")),(0,n.bF)(r,{type:"primary",onClick:t[1]||(t[1]=e=>o(a.value))},{default:(0,n.k6)((()=>t[7]||(t[7]=[(0,n.eW)("获取均线")]))),_:1}),t[10]||(t[10]=(0,n.eW)("   ")),(0,n.bF)(r,{type:"primary",onClick:t[2]||(t[2]=e=>a.value="")},{default:(0,n.k6)((()=>t[8]||(t[8]=[(0,n.eW)("置空")]))),_:1})]),(0,n.Lk)("div",v,null,512),t[11]||(t[11]=(0,n.Lk)("div",null,null,-1)),(0,n.Lk)("button",{onClick:t[3]||(t[3]=e=>o("005284"))},"获得均线-- 005284"),(0,n.Lk)("button",{onClick:t[4]||(t[4]=e=>o("006482"))},"获得均线-- 006482"),(0,n.Lk)("button",{onClick:t[5]||(t[5]=e=>o("161725"))},"获得均线-- 161725"),(0,n.Lk)("button",{onClick:t[6]||(t[6]=e=>o("320007"))},"获得均线-- 320007")])}}},d=t(262);const p=(0,d.A)(c,[["__scopeId","data-v-12a8e72b"]]);var o=p}}]);